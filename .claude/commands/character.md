# character

**描述**: 创建或修改人物小传(需要先完成大纲)

**用法**: `/character`

**参数**: 无

**前置条件**: 必须先完成 `/outline` 命令

---

## 执行流程

当用户调用 `/character` 命令时:

1. **检查前置条件**
   - 检查 `outline.md` 文件是否存在
   - 如果不存在,提示: "❌ 请先完成大纲创建,输入 /outline 开始"
   - 如果存在,继续执行

2. **检查现有人物文件**
   - 如果 `characters.md` 文件已存在,询问用户是否覆盖
   - 用户确认后继续,否则中止

3. **读取技能包资源**
   - 读取 `outline.md` 获取故事背景和设定
   - 读取 `skills/doomsday-skill/templates/doomsday-character-template.md` 获取格式规范
   - 读取 `skills/doomsday-skill/examples/character-example.md` 学习优秀范例

4. **生成人物小传**
   
   基于大纲中的设定,创建以下角色:
   
   - **主角**
     - 基本信息 (姓名/年龄/性别/职业)
     - 前世经历 (如何死亡/遭遇了什么)
     - 重生后性格 (从大纲提取)
     - 金手指能力 (从大纲提取)
     - 核心目标 (生存+复仇)
     - 性格特点 (3-5个关键词)
   
   - **炮灰反派** (3-5个)
     - 基本信息
     - 与主角的前世恩怨
     - 在60集中的出场时间
     - 被打脸的方式和时机
     - 性格弱点
   
   - **前世仇人** (1-2个核心反派)
     - 基本信息
     - 前世如何陷害主角
     - 本世的身份和势力
     - 在三幕结构中的作用
     - 最终结局
   
   - **终极Boss** (如果有)
     - 基本信息
     - 与主角的关系
     - 在第三幕的作用
     - 最终对决设计
   
   - **配角** (2-3个)
     - 主角的盟友/队友
     - 基本信息和性格
     - 在剧情中的作用

5. **人物关系网络**
   - 绘制人物关系图
   - 标注前世恩怨
   - 标注本世利益冲突

6. **写入文件**
   - 严格按照 `doomsday-character-template.md` 的格式
   - 将人物小传写入项目根目录的 `characters.md` 文件
   - 确保每个角色信息完整、层次清晰

7. **完成提示**
   ```
   ✅ 人物小传已完成并保存到 characters.md
   
   👥 已创建角色:
   - 主角: [姓名]
   - 炮灰反派: X人
   - 前世仇人: X人
   - 终极Boss: [姓名/无]
   - 配角: X人
   
   💡 下一步: 输入 /catalog 生成60集分集目录
   ```

## 注意事项

- **基于大纲**: 所有人物设定必须与大纲一致,不能自行创造冲突
- **反派层级**: 炮灰反派(前20集解决) → 前世仇人(21-45集对抗) → 终极Boss(46-60集决战)
- **出场节奏**: 不要所有反派一次性出场,要分批次引入
- **性格鲜明**: 每个角色要有独特性格特点,避免脸谱化
- **视觉化**: 外貌描述要适合漫画呈现,提供具体的视觉特征

## 示例调用

```
用户: /character
AI: ✅ 检测到大纲已完成,开始创建人物小传...

AI: [读取outline.md]
AI: [生成主角、反派、配角信息]
AI: [写入characters.md]

AI: ✅ 人物小传已完成并保存到 characters.md
     👥 已创建角色:
     - 主角: 林雪瑶
     - 炮灰反派: 5人
     - 前世仇人: 2人
     - 终极Boss: 张寒博士
     - 配角: 3人
     
     💡 下一步: 输入 /catalog 生成60集分集目录
```