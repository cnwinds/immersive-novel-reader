# 腾讯云静态网站托管 - 详细部署指南

## 🎯 为什么选择腾讯云？

- ✅ **国内访问速度快** - 服务器在国内，延迟低
- ✅ **免费额度充足** - 5GB存储 + 5GB流量/月（个人项目足够）
- ✅ **自动部署** - 连接 Git 后自动更新
- ✅ **专业稳定** - 腾讯云基础设施，可靠性高
- ✅ **完全免费** - 个人项目通常不会超出免费额度

## 📋 部署步骤

### 第一步：注册腾讯云账号

1. 访问：https://cloud.tencent.com
2. 点击右上角 **"免费注册"**
3. 使用手机号或邮箱注册
4. 完成实名认证（免费，只需几分钟）

**新用户福利**：通常有免费额度，足够个人项目使用。

---

### 第二步：开通云开发 CloudBase

1. **登录腾讯云控制台**
   - 访问：https://console.cloud.tencent.com
   - 使用刚才注册的账号登录

2. **搜索云开发服务**
   - 在顶部搜索框输入：`云开发` 或 `CloudBase`
   - 点击进入 **"云开发 CloudBase"** 服务

3. **创建环境**
   - 点击 **"新建环境"** 按钮
   - 填写信息：
     - **环境名称**：`novel-reader`（或你喜欢的名字）
     - **计费方式**：选择 **"按量计费"**（有免费额度）
     - **地域**：选择离你近的（推荐：上海、北京、广州）
   - 点击 **"立即开通"**
   - 等待环境创建完成（约1-2分钟）

4. **记录环境ID**
   - 创建完成后，会显示环境ID（类似：`env-xxxxx`）
   - 记下这个ID，后续会用到

---

### 第三步：开启静态网站托管

1. **进入环境管理页面**
   - 在左侧菜单找到 **"静态网站托管"**
   - 点击进入

2. **开通服务**
   - 点击 **"开通"** 按钮
   - 选择 **"基础版"**（免费）
   - 点击 **"确定"**
   - 等待开通完成（约30秒）

---

### 第四步：上传项目文件

有两种方式上传文件：

#### 方法A：网页上传（最简单，适合首次部署）

1. **准备文件**
   - 确保项目根目录有 `index.html` 文件
   - 确保所有 CSS、JS、图片等资源文件都在

2. **上传文件**
   - 在静态网站托管页面，点击 **"上传文件"** 按钮
   - 选择项目文件夹中的所有文件：
     - `index.html`
     - `css/` 文件夹
     - `js/` 文件夹
     - `Episode-*.md` 文件
     - 其他所有文件
   - 点击 **"开始上传"**
   - 等待上传完成

3. **检查文件结构**
   - 上传后，确保文件结构正确：
     ```
     /
     ├── index.html
     ├── css/
     ├── js/
     ├── Episode-01_*.md
     ├── Episode-02_*.md
     └── ...
     ```

#### 方法B：使用 CLI 工具（推荐，支持自动部署）

1. **安装 CloudBase CLI**
   ```bash
   # 使用 npm 安装（需要先安装 Node.js）
   npm install -g @cloudbase/cli
   
   # 或者使用 yarn
   yarn global add @cloudbase/cli
   ```

2. **登录**
   ```bash
   tcb login
   ```
   - 会打开浏览器，授权登录
   - 登录成功后，CLI 会自动保存凭证

3. **部署项目**
   ```bash
   # 进入项目目录
   cd d:\ai-project\test1
   
   # 部署到静态网站托管
   tcb hosting deploy . -e 你的环境ID
   ```
   - 例如：`tcb hosting deploy . -e env-abc123`
   - 等待部署完成

4. **后续更新**
   - 每次修改代码后，只需再次执行：
     ```bash
     tcb hosting deploy . -e 你的环境ID
     ```

---

### 第五步：访问网站

1. **获取默认域名**
   - 部署完成后，在静态网站托管页面会显示默认域名
   - 格式：`https://你的环境ID.cloudbaseapp.com`
   - 例如：`https://env-abc123.cloudbaseapp.com`

2. **访问测试**
   - 在浏览器中打开这个地址
   - 应该能看到你的小说阅读器正常显示

3. **绑定自定义域名（可选）**
   - 在静态网站托管设置中，找到 **"自定义域名"**
   - 点击 **"添加域名"**
   - 输入你的域名（如：`novel.yourdomain.com`）
   - 按照提示配置 DNS 记录
   - 等待审核通过（通常几分钟）

---

## 🔄 连接 Git 仓库实现自动部署（推荐）

如果你想让每次推送代码后自动部署，可以连接 Git 仓库：

### 连接 Gitee 仓库

1. **进入 Git 部署设置**
   - 在静态网站托管页面，找到 **"Git 部署"** 或 **"持续部署"**
   - 点击 **"新建部署"**

2. **选择代码源**
   - 选择 **"Gitee"**
   - 点击 **"授权"**，登录 Gitee 账号并授权

3. **配置部署**
   - **仓库**：选择 `cnwinds/immersive-novel-reader`
   - **分支**：选择 `main`
   - **构建命令**：留空（静态网站不需要构建）
   - **输出目录**：`/`（根目录）
   - **部署触发**：选择 **"自动部署"**（每次推送代码后自动部署）

4. **保存配置**
   - 点击 **"保存"**
   - 等待首次部署完成

5. **测试自动部署**
   - 修改代码并推送到 Gitee：
     ```bash
     git add .
     git commit -m "test auto deploy"
     git push gitee main
     ```
   - 等待几分钟，网站会自动更新

---

## 💰 免费额度说明

### 基础版免费额度

- **存储空间**：5GB/月
- **流量**：5GB/月
- **请求次数**：100万次/月

### 费用说明

- **个人项目通常不会超出免费额度**
- 如果超出，按量计费：
  - 存储：0.004元/GB/天
  - 流量：0.18元/GB
  - 价格非常便宜

### 如何查看使用量

1. 进入云开发控制台
2. 点击 **"费用"** → **"用量统计"**
3. 可以查看当前使用量

---

## 🆘 常见问题

### Q1: 上传文件后，网站显示 404？

**A:** 检查以下几点：
- 确保 `index.html` 在根目录
- 确保文件路径大小写正确（Linux 系统区分大小写）
- 检查浏览器控制台是否有错误

### Q2: CSS/JS 文件加载失败？

**A:** 检查：
- 确保文件路径正确（相对路径）
- 确保所有文件都已上传
- 检查文件权限设置

### Q3: 如何更新网站内容？

**A:** 有两种方式：
- **手动更新**：删除旧文件，重新上传新文件
- **自动更新**：连接 Git 仓库，推送代码后自动部署

### Q4: 可以绑定自己的域名吗？

**A:** 可以！
1. 在静态网站托管设置中，找到 **"自定义域名"**
2. 添加你的域名
3. 按照提示配置 DNS 记录（CNAME 或 A 记录）
4. 等待审核通过

### Q5: 免费额度用完了怎么办？

**A:** 
- 对于纯静态网站，5GB/月的免费额度通常足够
- 如果超出，可以考虑：
  - 压缩文件（CSS、JS）
  - 使用 CDN 缓存
  - 升级到付费套餐（价格很低）

### Q6: CLI 工具登录失败？

**A:** 
- 确保已安装 Node.js（版本 >= 12）
- 尝试重新登录：`tcb login`
- 检查网络连接

---

## 📚 相关资源

- **腾讯云文档**：https://cloud.tencent.com/document/product/876
- **CloudBase CLI 文档**：https://docs.cloudbase.net/cli-v1/intro
- **静态网站托管文档**：https://cloud.tencent.com/document/product/876/40270

---

## ✅ 部署检查清单

完成以下检查，确保部署成功：

- [ ] 已注册腾讯云账号并完成实名认证
- [ ] 已创建 CloudBase 环境
- [ ] 已开通静态网站托管服务
- [ ] 已上传所有项目文件
- [ ] 网站可以正常访问
- [ ] 所有功能正常（章节列表、阅读、设置等）
- [ ] （可选）已连接 Git 仓库实现自动部署
- [ ] （可选）已绑定自定义域名

---

**完成以上步骤后，你的小说阅读器就可以在国内正常访问了！** 🎉

如有问题，可以查看腾讯云文档或联系客服。

